<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
                "http://www.w3.org/TR/REC-html40/loose.dtd">
<html>
<head>
  <title>Description of genericConstraint</title>
  <meta name="keywords" content="genericConstraint">
  <meta name="description" content="- parent class for constraints">
  <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
  <meta name="generator" content="m2html v1.5 &copy; 2003-2005 Guillaume Flandin">
  <meta name="robots" content="index, follow">
  <link type="text/css" rel="stylesheet" href="../m2html.css">
</head>
<body>
<a name="_top"></a>
<div><a href="../index.html">Home</a> &gt;  <a href="#">src</a> &gt; genericConstraint.m</div>

<!--<table width="100%"><tr><td align="left"><a href="../index.html"><img alt="<" border="0" src="../left.png">&nbsp;Master index</a></td>
<td align="right"><a href="index.html">Index for .\src&nbsp;<img alt=">" border="0" src="../right.png"></a></td></tr></table>-->

<h1>genericConstraint
</h1>

<h2><a name="_name"></a>PURPOSE <a href="#_top"><img alt="^" border="0" src="../up.png"></a></h2>
<div class="box"><strong>- parent class for constraints</strong></div>

<h2><a name="_synopsis"></a>SYNOPSIS <a href="#_top"><img alt="^" border="0" src="../up.png"></a></h2>
<div class="box"><strong>This is a script file. </strong></div>

<h2><a name="_description"></a>DESCRIPTION <a href="#_top"><img alt="^" border="0" src="../up.png"></a></h2>
<div class="fragment"><pre class="comment"> - parent class for constraints

 copyright 2009-2012 Blair Armstrong, Christine Watson, David Plaut

    This file is part of SOS

    SOS is free software: you can redistribute it and/or modify
    it for academic and non-commercial purposes
    under the terms of the GNU General Public License as published by
    the Free Software Foundation, either version 3 of the License, or
    (at your option) any later version.  For commercial or for-profit
    uses, please contact the authors (sos@cnbc.cmu.edu).

    SOS is distributed in the hope that it will be useful,
    but WITHOUT ANY WARRANTY; without even the implied warranty of
    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
    GNU General Public License for more details.</pre></div>

<!-- crossreference -->
<h2><a name="_cross"></a>CROSS-REFERENCE INFORMATION <a href="#_top"><img alt="^" border="0" src="../up.png"></a></h2>
This function calls:
<ul style="list-style-image:url(../matlabicon.gif)">
<li><a href="genericConstraint.html" class="code" title="">genericConstraint</a>	- parent class for constraints</li><li><a href="hardBoundConstraint.html" class="code" title="">hardBoundConstraint</a>	- hard bound constraint object</li><li><a href="softDistanceConstraint.html" class="code" title="">softDistanceConstraint</a>	- parent class for soft distance constraints</li><li><a href="softEntropyConstraint.html" class="code" title="">softEntropyConstraint</a>	- soft entropy constraint object</li><li><a href="softMatchCorrelConstraint.html" class="code" title="">softMatchCorrelConstraint</a>	- soft correlation matching constraint object</li><li><a href="softMetaConstraint.html" class="code" title="">softMetaConstraint</a>	- parent class for soft meta-constraints</li></ul>
This function is called by:
<ul style="list-style-image:url(../matlabicon.gif)">
<li><a href="genericConstraint.html" class="code" title="">genericConstraint</a>	- parent class for constraints</li><li><a href="hardBoundConstraint.html" class="code" title="">hardBoundConstraint</a>	- hard bound constraint object</li><li><a href="hardConstraint.html" class="code" title="">hardConstraint</a>	- parent class for hard constraints</li><li><a href="softConstraint.html" class="code" title="">softConstraint</a>	- parent class for soft constraints</li><li><a href="softDistanceConstraint.html" class="code" title="">softDistanceConstraint</a>	- parent class for soft distance constraints</li><li><a href="softEntropyConstraint.html" class="code" title="">softEntropyConstraint</a>	- soft entropy constraint object</li><li><a href="softMatchCorrelConstraint.html" class="code" title="">softMatchCorrelConstraint</a>	- soft correlation matching constraint object</li><li><a href="softMetaConstraint.html" class="code" title="">softMetaConstraint</a>	- parent class for soft meta-constraints</li></ul>
<!-- crossreference -->

<h2><a name="_subfunctions"></a>SUBFUNCTIONS <a href="#_top"><img alt="^" border="0" src="../up.png"></a></h2>
<ul style="list-style-image:url(../matlabicon.gif)">
<li><a href="#_sub1" class="code">function cost = acceptSwap(obj)</a></li><li><a href="#_sub2" class="code">function cost = rejectSwap(obj)</a></li><li><a href="#_sub3" class="code">function obj = createConstraint(varargin)</a></li></ul>

<h2><a name="_source"></a>SOURCE CODE <a href="#_top"><img alt="^" border="0" src="../up.png"></a></h2>
<div class="fragment"><pre>0001 <span class="comment">% - parent class for constraints</span>
0002 <span class="comment">%</span>
0003 <span class="comment">% copyright 2009-2012 Blair Armstrong, Christine Watson, David Plaut</span>
0004 <span class="comment">%</span>
0005 <span class="comment">%    This file is part of SOS</span>
0006 <span class="comment">%</span>
0007 <span class="comment">%    SOS is free software: you can redistribute it and/or modify</span>
0008 <span class="comment">%    it for academic and non-commercial purposes</span>
0009 <span class="comment">%    under the terms of the GNU General Public License as published by</span>
0010 <span class="comment">%    the Free Software Foundation, either version 3 of the License, or</span>
0011 <span class="comment">%    (at your option) any later version.  For commercial or for-profit</span>
0012 <span class="comment">%    uses, please contact the authors (sos@cnbc.cmu.edu).</span>
0013 <span class="comment">%</span>
0014 <span class="comment">%    SOS is distributed in the hope that it will be useful,</span>
0015 <span class="comment">%    but WITHOUT ANY WARRANTY; without even the implied warranty of</span>
0016 <span class="comment">%    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the</span>
0017 <span class="comment">%    GNU General Public License for more details.</span>
0018 
0019 <span class="comment">%    You should have received a copy of the GNU General Public License</span>
0020 <span class="comment">%    along with SOS (see COPYING.txt).</span>
0021 <span class="comment">%    If not, see &lt;http://www.gnu.org/licenses/&gt;.</span>
0022 
0023 
0024 classdef <a href="genericConstraint.html" class="code" title="">genericConstraint</a> &lt; handle
0025     <span class="comment">% Class defines general functionality of constraint objects</span>
0026     <span class="comment">%</span>
0027     <span class="comment">%PROPERTIES</span>
0028     <span class="comment">%     sosObj  % SOS object constraint is associated with</span>
0029     <span class="comment">%     name % string name to associate with the object</span>
0030     <span class="comment">%     label % label to associate with the object (e.g., containing additional information than in the name)</span>
0031     <span class="comment">%     constraintType %label indicating type of constraint (hard/soft/meta)</span>
0032     <span class="comment">%     fnc % name of function used to compute constraint</span>
0033     <span class="comment">%     cost % current cost of constraint</span>
0034     <span class="comment">%     swCost % cost if a swap was executed</span>
0035     <span class="comment">%</span>
0036     <span class="comment">%METHODS (Abstract)</span>
0037     <span class="comment">%   cost = initCost() - object must be able to initially calculate cost</span>
0038     <span class="comment">%   swCost = swapCost() - object must be able to calculate the cost of doing a swap</span>
0039     <span class="comment">%</span>
0040     <span class="comment">%METHODS</span>
0041     <span class="comment">%   obj = acceptSwap() - Makes the swap cost the current cost</span>
0042     <span class="comment">%   cost = rejectSwap(obj) %rejects the swap, resets swCost</span>
0043     <span class="comment">%</span>
0044     <span class="comment">%METHODS (Static)</span>
0045     <span class="comment">%   obj = createConstraint(varargin) - creates an appropriate constraint given varagin</span>
0046     
0047     
0048     <span class="comment">%%PROPERTIES</span>
0049     properties
0050         sosObj  <span class="comment">% SOS object constraint is associated with</span>
0051         name <span class="comment">% string name to associate with the object</span>
0052         label <span class="comment">% label to associate with the object (e.g., containing additional information than in the name)</span>
0053         constraintType <span class="comment">%label indicating type of constraint (hard/soft/meta)</span>
0054         fnc <span class="comment">% name of function used to compute constraint</span>
0055         cost <span class="comment">% current cost of constraint</span>
0056         swCost <span class="comment">% cost if a swap was executed</span>
0057     <span class="keyword">end</span>
0058     
0059     methods (Abstract)
0060         cost = initCost(obj);
0061         swCost = swapCost(obj);
0062     <span class="keyword">end</span>
0063     
0064     
0065     methods
0066         
0067         <span class="comment">%% acceptSwap() METHOD</span>
0068         <a name="_sub0" href="#_subfunctions" class="code">function cost = acceptSwap(obj)</a>
0069             <span class="comment">%Makes the swap cost the current cost</span>
0070             <span class="comment">%</span>
0071             <span class="comment">%Child objects of genericConstraint may need to do additional</span>
0072             <span class="comment">%computations in their own acceptSwap function</span>
0073             
0074             <span class="comment">%Only swap if swCost is NaN, which should only be true if a</span>
0075             <span class="comment">%given swap implicates this cost function</span>
0076             <span class="keyword">if</span>(isnan(obj.swCost) == false)
0077                 obj.cost = obj.swCost;
0078                 obj.swCost = NaN;
0079                
0080             <span class="keyword">end</span>
0081             
0082             cost = obj.cost;
0083         <span class="keyword">end</span>
0084         
0085         <span class="comment">%% rejectSwap() METHOD</span>
0086         <a name="_sub1" href="#_subfunctions" class="code">function cost = rejectSwap(obj)</a>
0087             <span class="comment">%rejects the swap, resets swCost</span>
0088             obj.swCost = NaN;
0089             cost = obj.cost;
0090         <span class="keyword">end</span>
0091     <span class="keyword">end</span>
0092     
0093 
0094     methods (Static)
0095         
0096         <span class="comment">%% obj = createConstraint(varargin)</span>
0097         <a name="_sub2" href="#_subfunctions" class="code">function obj = createConstraint(varargin)</a>
0098             <span class="comment">% creates an appropriate constraint given varagin</span>
0099             <span class="comment">%</span>
0100             <span class="comment">% Note: Parameters must pass both this function's minimal</span>
0101             <span class="comment">% checking AND the checking required by the specific object to</span>
0102             <span class="comment">% be created</span>
0103             <span class="comment">%</span>
0104             <span class="comment">%PARAMETERS:</span>
0105             <span class="comment">%Required:</span>
0106             <span class="comment">%   'sosObj'/sos object - the SOS object the constraint will be linked to, and which contains the samples the constraint operates on.</span>
0107             <span class="comment">%   'constraintType'/&lt;str name of constraint as required by desired constraint&gt; - see desired obj's constructor for options</span>
0108             <span class="comment">%   'fnc'/&lt;str name of fnc as required by desired constraint&gt; - see desired obj's constructor for options</span>
0109             <span class="comment">%</span>
0110             <span class="comment">%Optional:</span>
0111             <span class="comment">%   &lt;all required parameters for specific constraint&gt;</span>
0112             <span class="comment">%</span>
0113             <span class="comment">%RETURNS:</span>
0114             <span class="comment">%   Constraint object</span>
0115            
0116 
0117         
0118             <span class="comment">%check the universal requirements of the method</span>
0119             p = inputParser;
0120             p.KeepUnmatched = true;
0121             
0122             p.addParamValue(<span class="string">'sosObj'</span>,<span class="string">'null'</span>,<span class="keyword">...</span>
0123                 @(sosObj)strcmp(class(sosObj),<span class="string">'sos'</span>));           
0124             p.addParamValue(<span class="string">'constraintType'</span>, <span class="string">'null'</span>, <span class="keyword">...</span>
0125                 @(constraintType)ischar(constraintType));
0126             p.addParamValue(<span class="string">'fnc'</span>,<span class="string">'null'</span>, <span class="keyword">...</span>
0127                  @(fnc)ischar(fnc));
0128             
0129             p.parse(varargin{:});   
0130             
0131             
0132             <span class="comment">%minimum information needed to try to create a constraint</span>
0133             <span class="comment">%exists, try to create constraint</span>
0134             
0135             <span class="keyword">if</span> strcmp(p.Results.constraintType, <span class="string">'hard'</span>)
0136                 <span class="keyword">if</span>(strcmp(p.Results.fnc,<span class="string">'floor'</span>) || strcmp(p.Results.fnc,<span class="string">'ceiling'</span>))
0137                     obj = <a href="hardBoundConstraint.html" class="code" title="">hardBoundConstraint</a>(varargin{:});
0138                 <span class="keyword">else</span>
0139                     error([<span class="string">'Could not create a hard constraint with &lt;fnc&gt;: '</span>, <span class="keyword">...</span>
0140                         p.Results.fnc]);
0141                 <span class="keyword">end</span>
0142             <span class="keyword">elseif</span> strcmp(p.Results.constraintType, <span class="string">'soft'</span>)   
0143                 <span class="keyword">if</span>(strcmp(p.Results.fnc,<span class="string">'min'</span>) || <span class="keyword">...</span>
0144                         strcmp(p.Results.fnc,<span class="string">'max'</span>) || <span class="keyword">...</span>
0145                         strcmp(p.Results.fnc,<span class="string">'orderedMax'</span>) || <span class="keyword">...</span>
0146                         strcmp(p.Results.fnc,<span class="string">'match1SampleVal'</span>))
0147           
0148                     obj = <a href="softDistanceConstraint.html" class="code" title="">softDistanceConstraint</a>(varargin{:});
0149                     
0150                 <span class="keyword">elseif</span>(strcmp(p.Results.fnc,<span class="string">'minEnt'</span>) || <span class="keyword">...</span>
0151                         strcmp(p.Results.fnc,<span class="string">'maxEnt'</span>))
0152                     obj = <a href="softEntropyConstraint.html" class="code" title="">softEntropyConstraint</a>(varargin{:});
0153                 <span class="keyword">elseif</span>(strcmp(p.Results.fnc,<span class="string">'matchCorrel'</span>))
0154                     obj = <a href="softMatchCorrelConstraint.html" class="code" title="">softMatchCorrelConstraint</a>(varargin{:});
0155                 <span class="keyword">else</span>
0156                     error([<span class="string">'Could not create a soft constraint with &lt;fnc&gt;: '</span>, <span class="keyword">...</span>
0157                         p.Results.fnc]);
0158                 <span class="keyword">end</span>
0159                 
0160             <span class="keyword">elseif</span> strcmp(p.Results.constraintType, <span class="string">'meta'</span>)   
0161                 <span class="keyword">if</span>(strcmp(p.Results.fnc,<span class="string">'matchCost'</span>) || <span class="keyword">...</span>
0162                         strcmp(p.Results.fnc,<span class="string">'matchCostNotMin'</span>) )
0163                     obj = <a href="softMetaConstraint.html" class="code" title="">softMetaConstraint</a>(varargin{:});
0164                 <span class="keyword">else</span>
0165                     error([<span class="string">'Could not create a meta constraint with &lt;fnc&gt;: '</span>, <span class="keyword">...</span>
0166                         p.Results.fnc]);
0167                 <span class="keyword">end</span>
0168             <span class="keyword">else</span>
0169                error(<span class="string">'The type of the new constraint is not supported in genericConstraint.  Supported types are hard/soft/meta'</span>);
0170             <span class="keyword">end</span>
0171        
0172         <span class="keyword">end</span> <span class="comment">%createConstraint</span>
0173     <span class="keyword">end</span>
0174         
0175         
0176 <span class="keyword">end</span>
0177</pre></div>
<hr><address>Generated on Fri 27-Jan-2012 16:18:41 by <strong><a href="http://www.artefact.tk/software/matlab/m2html/" title="Matlab Documentation in HTML">m2html</a></strong> &copy; 2005</address>
</body>
</html>